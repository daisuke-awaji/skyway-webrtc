webpackJsonp([1],{"/626":function(e,t){},"3R/k":function(e,t){},"3TcT":function(e,t){},"4Wrh":function(e,t){},"6DHi":function(e,t){},"6nfk":function(e,t){},"90VL":function(e,t){},"9DHQ":function(e,t){},ATJn:function(e,t){},BCfr:function(e,t){},FbEL:function(e,t){},"HNa/":function(e,t){},JLzs:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-app",[t("v-content",[t("router-view")],1)],1)},staticRenderFns:[]},c=n("VU/8")(null,i,!1,null,null,null).exports,o=n("/ocq"),l={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("v-card",[n("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-card-title",[e._v("\n          Login\n        ")]),e._v(" "),n("v-card-text",[n("v-text-field",{attrs:{rules:e.nameRules,counter:10,required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{disabled:!e.valid},on:{click:e.submit}},[e._v("\n            login\n          ")])],1)],1)],1)],1)],1)},staticRenderFns:[]},r=n("VU/8")({data:function(){return{valid:!1,name:"",nameRules:[function(e){return!!e||"Name is required"},function(e){return e.length<=10||"Name must be less than 10 characters"}]}},methods:{submit:function(){this.$router.push({name:"Top",params:{name:this.name}})}}},l,!1,null,null,null).exports,s=n("/+CH"),d=n.n(s),u={props:["name"],data:function(){return{peer:{},screenShare:{},peerId:"",callId:"",show:!1,dialog:!1,width:600,height:400,frameRate:24,mediaSource:"window",audios:[],videos:[{text:"None",value:null},{text:"Screen share",value:"screenShare"}],codecs:["VP8","VP9","H264"],mediaSourceItem:["window","application","screen"],selectedAudio:"",selectedVideo:"",selectedCodec:"VP9",localStream:null,call:null,existingCall:null,errorMessage:""}},mounted:function(){var e=this;this.peer=new d.a(this.name,{key:"760629c4-772b-4213-a923-5b5f34849311",debug:3}),this.screenShare=ScreenShare.create({debug:!0}),this.peer.on("open",function(){e.peerId=e.peer.id}),this.peer.on("close",function(){e.close()}),this.peer.on("error",function(){e.close()}),this.peer.on("disconnected",function(){e.close()}),this.peer.on("call",function(t){e.dialog=!0,e.call=t}),navigator.mediaDevices.enumerateDevices().then(function(t){for(var n=0;n!==t.length;++n){var a=t[n];"audioinput"===a.kind?e.audios.push({text:a.label||"Microphone "+(e.audios.length+1),value:a.deviceId}):"videoinput"===a.kind&&e.videos.push({text:a.label||"Camera  "+(e.videos.length-1),value:a.deviceId})}})},computed:{snackbar:{get:function(){return!!this.errorMessage},set:function(){}}},methods:{onChange:function(){var e=this;a.default.nextTick(function(){if("screenShare"===e.selectedVideo){if(!e.screenShare.isScreenShareAvailable())return void(e.errorMessage="Screen Share cannot be used. Please install the Chrome extension.");e.screenShare.start({width:e.width,height:e.height,frameRate:e.frameRate,mediaSource:e.mediaSource}).then(function(t){if(e.selectedAudio){var n={audio:{deviceId:{exact:e.selectedAudio}},video:!1};navigator.mediaDevices.getUserMedia(n).then(function(n){var a=new MediaStream;t.getVideoTracks().forEach(function(e){return a.addTrack(e.clone())}),n.getAudioTracks().forEach(function(e){return a.addTrack(e.clone())}),e.replaceStream(a)}).catch(function(t){e.errorMessage=t})}else e.replaceStream(t)}).catch(function(t){e.errorMessage=t})}else{var t={audio:!!e.selectedAudio&&{deviceId:{exact:e.selectedAudio}},video:!!e.selectedVideo&&{deviceId:{exact:e.selectedVideo}}};navigator.mediaDevices.getUserMedia(t).then(function(t){e.replaceStream(t)}).catch(function(t){e.errorMessage=t})}})},callByName:function(){this.receive(this.peer.call(this.callId,this.localStream,{videoCodec:this.selectedCodec}))},connect:function(){this.dialog=!1,this.call.answer(this.localStream,{videoCodec:this.selectedCodec}),this.receive(this.call),this.call=null},disconnect:function(){this.dialog=!1,this.call.close(),this.call=null},receive:function(e){this.close(),e.on("stream",function(e){var t=document.getElementById("their-video");t.srcObject=e,t.play()}),this.existingCall=e},close:function(){this.existingCall&&(this.existingCall.close(),this.existingCall=null)},closeSnackbar:function(){this.errorMessage=""},replaceStream:function(e){document.getElementById("my-video").srcObject=e,this.localStream=e,this.existingCall&&this.existingCall.replaceStream(e)}}},v={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:"","grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{"d-flex":"",md3:"","offset-md1":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{"d-flex":"",md12:""}},[n("v-card",[n("v-card-text",[e._v("\n              Your peer ID is "+e._s(e.peerId)+"\n            ")])],1)],1),e._v(" "),n("v-flex",{attrs:{"d-flex":"",md12:""}},[n("v-card",[n("v-card-text",[n("v-select",{attrs:{items:e.audios,label:"Audio input","single-line":""},on:{change:e.onChange},model:{value:e.selectedAudio,callback:function(t){e.selectedAudio=t},expression:"selectedAudio"}}),e._v(" "),n("v-select",{attrs:{items:e.videos,label:"Video input","single-line":""},on:{change:e.onChange},model:{value:e.selectedVideo,callback:function(t){e.selectedVideo=t},expression:"selectedVideo"}}),e._v(" "),n("v-select",{attrs:{items:e.codecs,label:"Video codec","single-line":""},model:{value:e.selectedCodec,callback:function(t){e.selectedCodec=t},expression:"selectedCodec"}})],1),e._v(" "),n("v-card-actions",[n("v-card-text",[e._v("\n                Screen share settings\n              ")]),e._v(" "),n("v-btn",{attrs:{icon:""},nativeOn:{click:function(t){e.show=!e.show}}},[n("v-icon",[e._v(e._s(e.show?"keyboard_arrow_down":"keyboard_arrow_up"))])],1)],1),e._v(" "),n("v-slide-y-transition",[n("v-card-text",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[n("v-text-field",{attrs:{label:"Width (px)"},on:{change:e.onChange},model:{value:e.width,callback:function(t){e.width=t},expression:"width"}}),e._v(" "),n("v-text-field",{attrs:{label:"Height (px)"},on:{change:e.onChange},model:{value:e.height,callback:function(t){e.height=t},expression:"height"}}),e._v(" "),n("v-text-field",{attrs:{label:"Frame Rate (fps)"},on:{change:e.onChange},model:{value:e.frameRate,callback:function(t){e.frameRate=t},expression:"frameRate"}}),e._v(" "),n("v-select",{attrs:{items:e.mediaSourceItem,label:"Media source","single-line":""},on:{change:e.onChange},model:{value:e.mediaSource,callback:function(t){e.mediaSource=t},expression:"mediaSource"}})],1)],1)],1)],1),e._v(" "),n("v-flex",{attrs:{"d-flex":"",md12:""}},[n("v-card",[n("v-card-text",[n("v-text-field",{attrs:{label:"Call ID",required:""},model:{value:e.callId,callback:function(t){e.callId=t},expression:"callId"}})],1),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{color:"success",disabled:!e.callId||e.existingCall},on:{click:e.callByName}},[e._v("\n                Call\n              ")]),e._v(" "),n("v-btn",{attrs:{color:"error"},on:{click:e.close}},[e._v("\n                Close\n              ")])],1)],1)],1),e._v(" "),n("v-flex",{attrs:{"d-flex":"",md12:""}},[n("v-card",[n("v-card-title",[e._v("\n              Your video\n            ")]),e._v(" "),n("v-card-media",[n("video",{attrs:{id:"my-video",muted:"true",autoplay:"",playsinline:"",controls:""},domProps:{muted:!0}})])],1)],1)],1)],1),e._v(" "),n("v-flex",{attrs:{"d-flex":"",md7:""}},[n("v-card",[e.existingCall?n("v-card-title",[e._v("\n          Connecting "+e._s(e.existingCall.remoteId)+"\n        ")]):e._e(),e._v(" "),n("v-card-media",[n("video",{attrs:{id:"their-video",autoplay:"",playsinline:"",controls:""}})])],1)],1)],1),e._v(" "),n("v-dialog",{attrs:{persistent:"","max-width":"300px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[e.call?n("v-card-title",[n("span",{staticClass:"headline"},[e._v("Calling from "+e._s(e.call.remoteId))])]):e._e(),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"success"},on:{click:e.connect}},[e._v("Connect")]),e._v(" "),n("v-btn",{attrs:{color:"error"},on:{click:e.disconnect}},[e._v("Disconnect")])],1)],1)],1),e._v(" "),n("v-snackbar",{attrs:{color:"error"},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n    "+e._s(e.errorMessage.toString())+"\n    "),n("v-btn",{attrs:{dark:"",flat:""},on:{click:e.closeSnackbar}},[e._v("Close")])],1)],1)},staticRenderFns:[]};var f=n("VU/8")(u,v,!1,function(e){n("YCRX")},"data-v-1cbff0e8",null).exports;a.default.use(o.a);var h=new o.a({routes:[{path:"/",name:"Login",component:r},{path:"Top",name:"Top",component:f,props:!0}]}),m=n("M+UZ"),p=n.n(m),g=n("IcMm"),x=n.n(g),b=n("f/u0"),_=n.n(b),k=n("7Q1V"),C=n.n(k),S=n("MPXs"),w=n.n(S),V=n("JUsQ"),I=n.n(V),y=n("7M7f"),M=n.n(y),R=n("DDBM"),A=n.n(R),T=n("+1ch"),D=n.n(T),N=n("UxJg"),H=n.n(N),B=n("/yi5"),P=n.n(B),E=n("6VHA"),F=n.n(E);n("s6ZO");a.default.use(p.a,{components:{VApp:x.a,VCard:_.a,VBtn:C.a,VDialog:w.a,VGrid:I.a,VIcon:M.a,VForm:A.a,VSelect:D.a,VSnackbar:H.a,VTextField:P.a,transitions:F.a}}),a.default.config.productionTip=!1,new a.default({el:"#app",router:h,components:{App:c},template:"<App/>"})},NOHZ:function(e,t){},P0ba:function(e,t){},R681:function(e,t){},RGFK:function(e,t){},WZn9:function(e,t){},XC5Q:function(e,t){},YCRX:function(e,t){},acBN:function(e,t){},bbkW:function(e,t){},f2Ia:function(e,t){},kP4z:function(e,t){},kVeV:function(e,t){},lThp:function(e,t){},pxzo:function(e,t){},"q/9b":function(e,t){},rzhv:function(e,t){},s6ZO:function(e,t){},sBiC:function(e,t){},uKc5:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.ed7e0fb99ed26fa59b75.js.map